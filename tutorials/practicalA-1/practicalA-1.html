<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Practical A-1: If statements</title>

<!-- HEAD_CONTENT -->

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div id="section-header">



<h1 class="title toc-ignore">Practical A-1: If statements</h1>

</div>


<div id="section-control-flow" class="section level2">
<h2>Control flow</h2>
<div id="section-comparisons-testing-for-equality-and-difference" class="section level3">
<h3>Comparisons – testing for equality and difference</h3>
<p>These tests are essential for <code>while</code> loops to determine whether to continue through the next iteration of the loop, and other forms of flow control such as <code>if</code> statements, to determine what to do next. They allow us to test whether something is true, and change what lines of code are run depending on the outcome. There are the basic tests:</p>
<ul>
<li><code>a == b</code>: is <code>a</code> equal to <code>b</code>? (<code>TRUE</code> if this is true, <code>FALSE</code> if this is false)</li>
<li><code>a &gt; b</code>: is <code>a</code> greater than <code>b</code>?</li>
<li><code>a &lt; b</code>: is <code>a</code> less than <code>b</code>?</li>
<li><code>a &gt;= b</code>: is <code>a</code> greater than or equal to <code>b</code>?</li>
<li><code>a &lt;= b</code>: is <code>a</code> less than or equal to <code>b</code>?</li>
<li><code>a != b</code>: is <code>a</code> not equal to <code>b</code>?</li>
</ul>
<p>There are then three basic ways of changing or combining the above:</p>
<ul>
<li><code>(a &lt; b) || (c == d)</code>: is “<code>a</code> less than <code>b</code>” <strong>or</strong> “<code>c</code> equal to <code>d</code>”?</li>
<li><code>(a &lt; b) &amp;&amp; (c == d)</code>: is “<code>a</code> less than <code>b</code>” <strong>and</strong> “<code>c</code> equal to <code>d</code>”?</li>
<li><code>!((a &lt; b) &amp;&amp; (c == d))</code>: is it <strong>not</strong> <code>TRUE</code> that “<code>a</code> is less than <code>b</code> <strong>and</strong> <code>c</code> is equal to <code>d</code>”?</li>
</ul>
<p>Remember to use (lots of!) brackets to ensure you are combining things in the right order.</p>
<p>Comparisons are also <a href="https://r4ds.had.co.nz/transform.html?q=compa#comparisons">covered in passing</a> in R4DS, and by R Coder in a bit more depth <a href="https://r-coder.com/operators-r">here</a>.</p>
</div>
<div id="section-if-and-if-else-statements" class="section level3">
<h3><code>if</code> and <code>if else</code> statements</h3>
<p>The <code>if</code> command allows us to perform a test, and if the result is <code>TRUE</code> run a block of R code (in curly brackets <code>{ ... }</code>). Optionally, if the test is <code>FALSE</code>, a different block of code can be run instead. This allows us to do a variety of things. To give a very simple example:</p>
<pre class="r"><code>if (2 &gt; 1) {
  print(&quot;Maths works!&quot;)
}
&gt; [1] &quot;Maths works!&quot;</code></pre>
<p>This prints <code>"Maths works!"</code> because the test is <code>TRUE</code>, so the code block that follows is run. You can try changing the numbers to get a different result. Whereas:</p>
<pre class="r"><code>if (2 &gt;= 5) {
  print(&quot;At least 5.&quot;)
} else {
  print(&quot;Less than 5.&quot;)
}
&gt; [1] &quot;Less than 5.&quot;</code></pre>
<p>This prints <code>"Less than 5."</code> because the test was false, so R continues to the code block after the <code>else</code> statement. Again, change the numbers to check you understand how it works. If there is no <code>else</code> statement, then no code is run, so:</p>
<pre class="r"><code>if (2 &gt;= 5) {
  print(&quot;At least 5.&quot;)
}</code></pre>
<p>does nothing.</p>
<p>R Coder covers the basics of <code>if</code> statements <a href="https://r-coder.com/if-else-r">here</a>. R4DS seems to consider them too simple, but ironically they have <a href="https://adv-r.hadley.nz/control-flow.html">a chapter in Advanced R</a>; however, this contains a lot of advanced topics in flow control that are well beyond the scope of this course.</p>
</div>
</div>
<div id="section-exercises" class="section level2">
<h2>Exercises</h2>
<p>Now try it yourself. Complete the following code chunk, such that <code>x</code> is correctly identified as a negative number.</p>
<pre class="r"><code>x &lt;- -1

if (___) {
  print(&quot;Positive number&quot;)
} else {
  print(&quot;Negative number&quot;)
}
&gt; Error: &lt;text&gt;:3:5: unexpected input
&gt; 2: 
&gt; 3: if (_
&gt;        ^</code></pre>
<pre class="r"><code>x &lt;- -1

if (x &gt; 0) {
  print(&quot;Positive number&quot;)
} else {
  print(&quot;Negative number&quot;)
}
&gt; [1] &quot;Negative number&quot;</code></pre>
<pre class="r"><code>grade_this_code()
&gt; function (check_env) 
&gt; {
&gt;     check_env[[&quot;.__correct&quot;]] &lt;- correct
&gt;     check_env[[&quot;.__incorrect&quot;]] &lt;- incorrect
&gt;     grade &lt;- with_options(list(gradethis.allow_partial_matching = allow_partial_matching, 
&gt;         gradethis.maybe_code_feedback = TRUE), grade_this({
&gt;         .message &lt;- code_feedback()
&gt;         if (is.null(.message)) {
&gt;             pass(get(&quot;.__correct&quot;))
&gt;         }
&gt;         fail(get(&quot;.__incorrect&quot;))
&gt;     })(check_env))
&gt;     class(grade) &lt;- c(&quot;gradethis_graded_this_code&quot;, class(grade))
&gt;     grade
&gt; }
&gt; &lt;bytecode: 0x7fe13eeef6e8&gt;
&gt; &lt;environment: 0x7fe13b3ca558&gt;</code></pre>
<p>Of course, this statement isn’t entirely accurate, since <code>0</code> is neither positive nor negative. You can fix this by correcting this code:</p>
<pre class="r"><code>x &lt;- 0

if (___) {
  print(&quot;Positive number&quot;)
} else if (___) {
  print(&quot;Negative number&quot;)
} else
  print(&quot;Zero&quot;)
&gt; Error: &lt;text&gt;:3:5: unexpected input
&gt; 2: 
&gt; 3: if (_
&gt;        ^</code></pre>
<pre class="r"><code>x &lt;- 0

if (x &gt; 0) {
  print(&quot;Positive number&quot;)
} else if (x &lt; 0) {
  print(&quot;Negative number&quot;)
} else
  print(&quot;Zero&quot;)
&gt; [1] &quot;Zero&quot;</code></pre>
<pre class="r"><code>grade_this_code()
&gt; function (check_env) 
&gt; {
&gt;     check_env[[&quot;.__correct&quot;]] &lt;- correct
&gt;     check_env[[&quot;.__incorrect&quot;]] &lt;- incorrect
&gt;     grade &lt;- with_options(list(gradethis.allow_partial_matching = allow_partial_matching, 
&gt;         gradethis.maybe_code_feedback = TRUE), grade_this({
&gt;         .message &lt;- code_feedback()
&gt;         if (is.null(.message)) {
&gt;             pass(get(&quot;.__correct&quot;))
&gt;         }
&gt;         fail(get(&quot;.__incorrect&quot;))
&gt;     })(check_env))
&gt;     class(grade) &lt;- c(&quot;gradethis_graded_this_code&quot;, class(grade))
&gt;     grade
&gt; }
&gt; &lt;bytecode: 0x7fe13eeef6e8&gt;
&gt; &lt;environment: 0x7fe13dd606c8&gt;</code></pre>
<p>Run the following code. There are two errors, try to find them.</p>
<pre class="r"><code>x &lt;- 3
y &lt;- 3

if (x - y) {
  print(&quot;x is less than y&quot;)
} else if (x + y) {
  print(&quot;x is greater than y&quot;)
} else 
  print(&quot;x equals y&quot;)
&gt; [1] &quot;x is greater than y&quot;</code></pre>
<pre class="r"><code>x &lt;- 3
y &lt;- 3

if (x &lt; y) {
  print(&quot;x is less than y&quot;)
} else if (x &gt; y) {
  print(&quot;x is greater than y&quot;)
} else 
  print(&quot;x equals y&quot;)
&gt; [1] &quot;x equals y&quot;</code></pre>
<pre class="r"><code>grade_this_code()
&gt; function (check_env) 
&gt; {
&gt;     check_env[[&quot;.__correct&quot;]] &lt;- correct
&gt;     check_env[[&quot;.__incorrect&quot;]] &lt;- incorrect
&gt;     grade &lt;- with_options(list(gradethis.allow_partial_matching = allow_partial_matching, 
&gt;         gradethis.maybe_code_feedback = TRUE), grade_this({
&gt;         .message &lt;- code_feedback()
&gt;         if (is.null(.message)) {
&gt;             pass(get(&quot;.__correct&quot;))
&gt;         }
&gt;         fail(get(&quot;.__incorrect&quot;))
&gt;     })(check_env))
&gt;     class(grade) &lt;- c(&quot;gradethis_graded_this_code&quot;, class(grade))
&gt;     grade
&gt; }
&gt; &lt;bytecode: 0x7fe13eeef6e8&gt;
&gt; &lt;environment: 0x7fe13f598d90&gt;</code></pre>
<p>Now edit the following code chunk so that <code>This statement is true</code> is always returned.</p>
<pre class="r"><code>if (___) {
  print(&quot;This statement is true&quot;)
} else {
  print(&quot;This statement is false&quot;)
}
&gt; Error: &lt;text&gt;:1:5: unexpected input
&gt; 1: if (_
&gt;         ^</code></pre>
<div id="section-ifexercise4-hint">
<p><strong>Hint:</strong> The value <code>TRUE</code> is always true, so will succeed in a if statement, and the value <code>FALSE</code> is always false, so will fail.</p>
</div>
<pre class="r"><code>if (TRUE) {
  print(&quot;This statement is true&quot;)
} else {
  print(&quot;This statement is false&quot;)
}
&gt; [1] &quot;This statement is true&quot;</code></pre>
<pre class="r"><code>grade_this_code()
&gt; function (check_env) 
&gt; {
&gt;     check_env[[&quot;.__correct&quot;]] &lt;- correct
&gt;     check_env[[&quot;.__incorrect&quot;]] &lt;- incorrect
&gt;     grade &lt;- with_options(list(gradethis.allow_partial_matching = allow_partial_matching, 
&gt;         gradethis.maybe_code_feedback = TRUE), grade_this({
&gt;         .message &lt;- code_feedback()
&gt;         if (is.null(.message)) {
&gt;             pass(get(&quot;.__correct&quot;))
&gt;         }
&gt;         fail(get(&quot;.__incorrect&quot;))
&gt;     })(check_env))
&gt;     class(grade) &lt;- c(&quot;gradethis_graded_this_code&quot;, class(grade))
&gt;     grade
&gt; }
&gt; &lt;bytecode: 0x7fe13eeef6e8&gt;
&gt; &lt;environment: 0x7fe13b7dba18&gt;</code></pre>

<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
tutorial_options(exercise.reveal_solution = FALSE)
gradethis::gradethis_setup()

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = ">",
  error = TRUE
)
set.seed(123)
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/bootstrap.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84]}},"value":[{"type":"character","attributes":{},"value":["backports","base","bslib","cachem","callr","checkmate","cli","codetools","colorspace","compiler","crayon","curl","datasets","desc","deSolve","devtools","digest","dplyr","ellipsis","evaluate","fansi","fastmap","fs","generics","ggplot2","glue","gradethis","graphics","grDevices","grid","gtable","highr","htmltools","htmlwidgets","httpuv","jquerylib","jsonlite","knitr","later","learnr","lifecycle","magrittr","markdown","MASS","memoise","methods","mime","munsell","pillar","pkgbuild","pkgconfig","pkgload","prettyunits","processx","promises","ps","purrr","R6","Rcpp","remotes","rlang","rmarkdown","RPiR","rprojroot","rstudioapi","sass","scales","sessioninfo","shiny","stats","stringi","stringr","testthat","tibble","tidyselect","tools","usethis","utf8","utils","vctrs","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["1.4.0","4.1.2","0.3.1","1.0.6","3.7.0","2.0.0","3.1.0","0.2-18","2.0-2","4.1.2","1.4.2","4.3.2","4.1.2","1.4.0","1.30","2.4.2","0.6.28","1.0.7","0.3.2","0.14","0.5.0","1.1.0","1.5.0","0.1.1","3.3.5","1.5.0","0.2.4.9000","4.1.2","4.1.2","4.1.2","0.3.0","0.9","0.5.2","1.5.4","1.6.3","0.1.4","1.7.2","1.36","1.3.0","0.10.1.9017","1.0.1","2.0.1","1.1","7.3-54","2.0.0","4.1.2","0.12","0.5.0","1.6.4","1.2.0","2.0.3","1.2.3","1.1.1","3.5.2","1.2.0.1","1.6.0","0.3.4","2.5.1","1.0.7","2.4.1","0.4.12","2.11","0.72.3","2.0.2","0.13","0.4.0","1.1.1","1.2.1","1.7.1","4.1.2","1.7.5","1.4.0","3.1.0","3.1.6","1.1.1","4.1.2","2.1.3","1.2.2","4.1.2","0.3.8","2.4.2","0.28","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
