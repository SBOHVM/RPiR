<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="RPiR">
<title>Course preparation - troubleshooting • RPiR</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Course preparation - troubleshooting">
<meta property="og:description" content="RPiR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">RPiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.76.29</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--lectures-slides-">
    <span class="fas fa fas fa-chalkboard-teacher"></span>
     
    Lectures (slides)
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--lectures-slides-">
    <a class="dropdown-item" href="../../lectures/RPiR1-intro.html">RPiR1-intro</a>
    <a class="dropdown-item" href="../../lectures/RPiR2a-R.html">RPiR2a-R</a>
    <a class="dropdown-item" href="../../lectures/RPiR2b-modelling.html">RPiR2b-modelling</a>
    <a class="dropdown-item" href="../../lectures/RPiR2c-development.html">RPiR2c-development</a>
    <a class="dropdown-item" href="../../lectures/RPiR3a-R.html">RPiR3a-R</a>
    <a class="dropdown-item" href="../../lectures/RPiR3b-git.html">RPiR3b-git</a>
    <a class="dropdown-item" href="../../lectures/RPiR5a-reporting.html">RPiR5a-reporting</a>
    <a class="dropdown-item" href="../../lectures/RPiR5b-modelling.html">RPiR5b-modelling</a>
    <a class="dropdown-item" href="../../lectures/RPiR5c-R.html">RPiR5c-R</a>
    <a class="dropdown-item" href="../../lectures/RPiR7a-development.pdf">RPiR7a-development (pdf)</a>
    <a class="dropdown-item" href="../../lectures/RPiR7b-R.html">RPiR7b-R</a>
    <a class="dropdown-item" href="../../lectures/RPiR8a-packages.html">RPiR8a-packages</a>
    <a class="dropdown-item" href="../../lectures/RPiR8b-randomness.pdf">RPiR8b-randomness (pdf)</a>
    <a class="dropdown-item" href="../../lectures/RPiR8c-R.html">RPiR8c-R</a>
    <a class="dropdown-item" href="../../lectures/RPiR11a-diversity.html">RPiR11a-diversity</a>
    <a class="dropdown-item" href="../../lectures/RPiR11b-diversity.pdf">RPiR11b-diversity (pdf)</a>
    <a class="dropdown-item" href="../../lectures/RPiR13a-data.html">RPiR12a-data</a>
    <a class="dropdown-item" href="../../lectures/RPiR13a-programming.html">RPiR13a-programming</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--lectures-html-">
    <span class="fas fa fas fa-chalkboard-teacher"></span>
     
    Lectures (html)
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--lectures-html-">
    <a class="dropdown-item" href="../../lectures_html/RPiR1-intro.html">RPiR1-intro</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR2a-R.html">RPiR2a-R</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR2b-modelling.html">RPiR2b-modelling</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR2c-development.html">RPiR2c-development</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR3a-R.html">RPiR3a-R</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR3b-git.html">RPiR3b-git</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR5a-reporting.html">RPiR5a-reporting</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR5b-modelling.html">RPiR5b-modelling</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR5c-R.html">RPiR5c-R</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR7b-R.html">RPiR7b-R</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR8a-packages.html">RPiR8a-packages</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR8c-R.html">RPiR8c-R</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR11a-diversity.html">RPiR11a-diversity</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR12a-data.html">RPiR12a-data</a>
    <a class="dropdown-item" href="../../lectures_html/RPiR13a-programming.html">RPiR13a-programming</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--practicals-html-">
    <span class="fas fa fas fa-chalkboard-teacher"></span>
     
    Practicals (html)
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--practicals-html-">
    <a class="dropdown-item" href="../../tutorials/practical1-6/practical1-6.html">Practical1-6</a>
    <a class="dropdown-item" href="../../tutorials/practical2-1/practical2-1.html">Practical2-1</a>
    <a class="dropdown-item" href="../../tutorials/practical2-2/practical2-2.html">Practical2-2</a>
    <a class="dropdown-item" href="../../tutorials/practical2-3/practical2-3.html">Practical2-3</a>
    <a class="dropdown-item" href="../../tutorials/practical2-4/practical2-4.html">Practical2-4</a>
    <a class="dropdown-item" href="../../tutorials/practical3-1/practical3-1.html">Practical3-1</a>
    <a class="dropdown-item" href="../../tutorials/practical3-2/practical3-2.html">Practical3-2</a>
    <a class="dropdown-item" href="../../tutorials/practical3-3/practical3-3.html">Practical3-3</a>
    <a class="dropdown-item" href="../../tutorials/practical3-4/practical3-4.html">Practical3-4</a>
    <a class="dropdown-item" href="../../tutorials/practical3-5/practical3-5.html">Practical3-5</a>
    <a class="dropdown-item" href="../../tutorials/practical3-6/practical3-6.html">Practical3-6</a>
    <a class="dropdown-item" href="../../tutorials/practical4-1/practical4-1.html">Practical4-1</a>
    <a class="dropdown-item" href="../../tutorials/practical4-2/practical4-2.html">Practical4-2</a>
    <a class="dropdown-item" href="../../tutorials/practical4-3/practical4-3.html">Practical4-3</a>
    <a class="dropdown-item" href="../../tutorials/project0/project0.html">Project-Intro</a>
    <a class="dropdown-item" href="../../tutorials/project1/project1.html">Project1</a>
    <a class="dropdown-item" href="../../tutorials/project2/project2.html">Project2</a>
    <a class="dropdown-item" href="../../tutorials/project3/project3.html">Project3</a>
    <a class="dropdown-item" href="../../tutorials/project4/project4.html">Project4</a>
    <a class="dropdown-item" href="../../tutorials/project5/project5.html">Project5</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--r">
    <span class="fas fa fas fa-laptop-code"></span>
     
    R
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--r">
    <a class="dropdown-item" href="../../articles/pages/loops.html">Loops -- for / while</a>
    <a class="dropdown-item" href="../../articles/pages/flow.html">Flow control -- if / else and comparisons</a>
    <a class="dropdown-item" href="../../articles/pages/functions.html">Functions</a>
    <a class="dropdown-item" href="../../articles/pages/devtools.html">document(), install(), and library()</a>
    <a class="dropdown-item" href="../../articles/pages/debugging.html">Debugging</a>
    <a class="dropdown-item" href="../../articles/pages/tips.html">Tips and tricks</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--guides">
    <span class="far fa far fa-file-alt"></span>
     
    Guides
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--guides">
    <a class="dropdown-item" href="../../articles/pages/install_R.html">Course preparation - R</a>
    <a class="dropdown-item" href="../../articles/pages/install_github.html">Course preparation - GitHub</a>
    <a class="dropdown-item" href="../../articles/pages/install_RPiR.html">Course preparation - RPiR</a>
    <a class="dropdown-item" href="../../articles/pages/install_troubleshooting.html">Course preparation - troubleshooting</a>
    <a class="dropdown-item" href="../../articles/pages/github.html">GitHub repositories</a>
    <a class="dropdown-item" href="../../articles/pages/rstudio.html">RStudio projects and GitHub</a>
    <a class="dropdown-item" href="../../articles/pages/packages_guide.html">Create an R Package</a>
    <a class="dropdown-item" href="../../articles/pages/packages.html">Reference - R Packages</a>
    <a class="dropdown-item" href="../../articles/pages/notebooks.html">Reference - R Notebook</a>
    <a class="dropdown-item" href="../../articles/pages/reference.html">Reference - General</a>
    <a class="dropdown-item" href="../../articles/pages/vscode_liveshare.html">VS Code Live Share</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">
    <span class="fab fa fab fa-earlybirds"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SBOHVM/RPiR/discussions">
    <span class="far fa far fa-comments"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SBOHVM/RPiR/">
    <span class="fab fa fab fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Course preparation - troubleshooting</h1>
            
            <h4 data-toc-skip class="date">December 12 2022</h4>
      
      
      <div class="d-none name"><code>install_troubleshooting.Rmd</code></div>
    </div>

    
    
<p>If a package installation didn’t work or a <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(xxx)</a></code>
call didn’t work, then you have probably got an installation issue. The
installation details should be printed in your RStudio Console and can
help you troubleshoot the error. We’ll use the example here of errors
while calling <code>install_github("SBOHVM/RPiR")</code>, but it could
equally apply to installing another package, such as
<code>install.packages("vegan")</code>.</p>
<div class="section level2">
<h2 id="restarting-r">Restarting R<a class="anchor" aria-label="anchor" href="#restarting-r"></a>
</h2>
<p>Quite often restarting R (<span style="color: #de77ae;">Session &gt;
Restart R</span>) can solve your problem. Just remember that once you’ve
restarted R, you’ll need to call <code><a href="https://devtools.r-lib.org/" class="external-link">library(devtools)</a></code> again to
load it back into RStudio.</p>
<p>Also, if you find you’re stuck in a loop (perhaps after installing
<code>fansi</code>), and R is asking if you’d like to restart over and
over again (because the package is already loaded):</p>
<p><img src="images/install-RPiR-restart.png" width="40%" style="display: block; margin: auto;"></p>
<p>then just say no to restarting it the second time.</p>
</div>
<div class="section level2">
<h2 id="non-zero-exit-status">Non-zero exit status<a class="anchor" aria-label="anchor" href="#non-zero-exit-status"></a>
</h2>
<pre><code>Warning in install.packages :
  installation of package ‘rlang’ had non-zero exit status</code></pre>
<p>Try restarting R (<span style="color: #de77ae;">Session &gt; Restart
R</span>) and reinstalling whatever package had non-zero exit status
(zero is success, so non-zero is a failed install), in this case
<code>rlang</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rlang"</span><span class="op">)</span></span></code></pre></div>
<p>Assuming this worked, restart R again(!), and re-run
<code>install_github("SBOHVM/RPiR")</code>.</p>
</div>
<div class="section level2">
<h2 id="rtools-is-required-to-build-r-packages-but-is-not-currently-installed">Rtools is required to build R packages but is not currently
installed…<a class="anchor" aria-label="anchor" href="#rtools-is-required-to-build-r-packages-but-is-not-currently-installed"></a>
</h2>
<pre><code>WARNING: Rtools is required to build R packages but is not currently installed. Please download and install the appropriate version of Rtools before proceeding:</code></pre>
<p>Go here to download and install <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools</a>.</p>
<p>This might also be associated with a package install error, such
as:</p>
<pre><code>namespace ‘rlang’ 0.4.0 is already loaded, but &gt;= 0.4.1 is required</code></pre>
<p>In which case you should reinstall whatever package had the problem,
in this case the <code>rlang</code> package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rlang"</span><span class="op">)</span></span></code></pre></div>
<p>Assuming this worked, restart R again(!), and re-run
<code>install_github("SBOHVM/RPiR")</code>.</p>
</div>
<div class="section level2">
<h2 id="cannot-remove-prior-installation">Cannot remove prior installation…<a class="anchor" aria-label="anchor" href="#cannot-remove-prior-installation"></a>
</h2>
<pre><code><span><span class="st">"Error in install.packages : cannot remove prior installation of package ‘rlang’ "</span></span></code></pre>
<p>For any <code>cannot remove prior installation</code> error, try
restarting R (<span style="color: #de77ae;">Session &gt; Restart
R</span>) and reinstalling whatever package Windows couldn’t remove, in
this case <code>rlang</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rlang"</span><span class="op">)</span></span></code></pre></div>
<p>Assuming this worked, restart R again(!), and re-run
<code>install_github("SBOHVM/RPiR")</code>.</p>
</div>
<div class="section level2">
<h2 id="try-removing-c---00lock">Try removing ‘C:.../00LOCK’<a class="anchor" aria-label="anchor" href="#try-removing-c---00lock"></a>
</h2>
<pre><code>package ‘rlang’ successfully unpacked and MD5 sums checked
Error in install.packages : ERROR: failed to lock directory ‘C:\Users\User\Documents\R\win-library\3.6’ for modifying
Try removing ‘C:\Users\User\Documents\R\win-library\3.6/00LOCK’</code></pre>
<p>For this one, you need to find the <span style="color: #de77ae;">00LOCK</span> file and delete it. Then try
installing whatever package was being unpacked, in this case
<code>rlang</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rlang"</span><span class="op">)</span></span></code></pre></div>
<p>Assuming this worked, restart R again(!), and re-run
<code>install_github("SBOHVM/RPiR")</code>.</p>
<p>If that doesn’t work after a couple of attempts, then you can try
installing the package while ignoring the lock files:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"Rcpp"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span>, INSTALL_opts <span class="op">=</span> <span class="st">'--no-lock'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fortran-on-mac">Fortran on Mac<a class="anchor" aria-label="anchor" href="#fortran-on-mac"></a>
</h2>
<p>If you have trouble getting a package (e.g. <code>vegan</code>) to
install with inscrutable errors that mention fortran, then this is
normal! If you’re on a Mac, then you should go to <a href="gfortran-mac">this site</a> and download the correct version of
<code>gfortran</code> depending on your computer and install it. Then
restart R and try again!</p>
<p>If you’re on Windows or some other platform and find this error, ask
for help!</p>
</div>
<div class="section level2">
<h2 id="libgit2-on-mac-linux">libgit2 on Mac / Linux<a class="anchor" aria-label="anchor" href="#libgit2-on-mac-linux"></a>
</h2>
<p>If you are on a Mac, it’s very likely you got an error because you
need to have <code>libgit2</code> installed. If so, then you probably
also need to install Homebrew - follow the instructions on <a href="https://brew.sh" class="external-link uri">https://brew.sh</a> to do this. Once
Homebrew is installed, you can install <code>libgit2</code> using
Homebrew by opening the Terminal app and then typing:</p>
<pre><code>brew install libgit2</code></pre>
<p>The same may happen on Linux, and you will need to use the
distribution’s package manager to install either
<code>libgit2-dev</code> or <code>libgit2-devel</code>, depending on
whether you are on Debian/Ubuntu or Fedora/CentOS/RHEL,
respectively.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sonia Mitchell, Richard Reeve.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
